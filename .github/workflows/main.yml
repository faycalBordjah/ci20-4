name: A workflow for tests for my application
on: [push] 
jobs:                                                                                            
  test-unit:                                                                                         
    name: Test unitaire                                                                     
    runs-on: ubuntu-latest                                                                       
    steps:
      - name: Validate composer.json and composer.lock
        run: composer validate
      - name: Install dependencies
        run: composer install --prefer-dist --no-progress --no-suggest                                                                                
      - name: Install git
        run: apt-get update -yqq
      - name: install git  
        run: apt-install git
      - name: Install phpunit
        run: curl --location --output /usr/local/bin/phpunit https://phar.phpunit.de/phpunit.phar 
      - name: change rights to file    
        run: chmod +x /usr/local/bin/phpunit
      - name: launch unit tests
        run: phpunit tests/Unit

